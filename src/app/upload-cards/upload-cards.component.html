<div id="shops">
  <div class="container">
    <div class="head_area">
      <h1>Cards</h1>
      <p>Upload your card details</p>
    </div>
    <form [formGroup]="cardForm" (ngSubmit)="onSubmit()">
      <section class="inside mb-4">
        <div class="row">
          <div class="col-sm-6">
            <div class="form-floating mb-3">
              <input
                type="text"
                class="form-control"
                id="floatingInputValue"
                placeholder="Your Company Name"
                formControlName="companyName"
              />
              <label for="floatingInputValue">Your Company Name</label>
            </div>
            <div class="form-floating mb-3">
              <input
                type="file"
                class="form-control"
                id="floatingInputValue"
                placeholder="Your Company Logo"
                (change)="
                  handleLogoFileInput($event.target?.files, 'companyLogo')
                "
              />
              <label for="floatingInputValue">Your Company Logo</label>
              <img [src]="logoUrl" *ngIf="logoUrl" />
              <input type="hidden" formControlName="companyLogo" />
            </div>
          </div>
          <div class="col-sm-6">
            <p>Your Company Address</p>
            <textarea
              class="form-control"
              placeholder="company address"
              style="height: 100px"
              formControlName="companyAddress"
            ></textarea>
          </div>
        </div>
      </section>
      <div class="row" formGroupName="employeeDetails">
        <div
          class="col-sm-4 mb-4"
          *ngFor="let item of cardItemsArray.controls; let i = index"
          [formGroupName]="i"
        >
          <section class="card">
            <button type="button" class="close_btn" (click)="removeCard(i)">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                fill="currentColor"
                class="bi bi-backspace-fill"
                viewBox="0 0 16 16"
              >
                <path
                  d="M15.683 3a2 2 0 0 0-2-2h-7.08a2 2 0 0 0-1.519.698L.241 7.35a1 1 0 0 0 0 1.302l4.843 5.65A2 2 0 0 0 6.603 15h7.08a2 2 0 0 0 2-2V3zM5.829 5.854a.5.5 0 1 1 .707-.708l2.147 2.147 2.146-2.147a.5.5 0 1 1 .707.708L9.39 8l2.146 2.146a.5.5 0 0 1-.707.708L8.683 8.707l-2.147 2.147a.5.5 0 0 1-.707-.708L7.976 8 5.829 5.854z"
                />
              </svg>
            </button>
            <div class="form-floating mb-3">
              <input
                type="file"
                class="form-control"
                id="empPhoto"
                placeholder="Photo"
                (change)="
                  handleEmpPhotoInput($event.target?.files, 'empPhoto', i)
                "
              />
              <label for="empPhoto">Photo</label>
              <img [src]="empPhoto.value" />
              <input type="hidden" formControlName="empPhoto" #empPhoto />
            </div>
            <div class="form-floating mb-3">
              <input
                type="text"
                class="form-control"
                id="empName"
                placeholder="Name"
                formControlName="empName"
              />
              <label for="empName">Name</label>
            </div>
            <div class="form-floating mb-3">
              <input
                type="text"
                class="form-control"
                id="empDesignation"
                placeholder="Designation"
                formControlName="empDesignation"
              />
              <label for="empDesignation">Designation</label>
            </div>
            <div class="form-floating mb-3">
              <input
                type="text"
                class="form-control"
                id="empCode"
                placeholder="Employee Code"
                formControlName="empCode"
              />
              <label for="empCode">Employee Code</label>
            </div>
            <div class="form-floating mb-3">
              <input
                type="text"
                class="form-control"
                id="empDOB"
                placeholder="Date of Birth"
                formControlName="empDOB"
              />
              <label for="empDOB">Date of Birth</label>
            </div>
            <div class="form-floating mb-3">
              <input
                type="text"
                class="form-control"
                id="empMobile"
                placeholder="Mobile No"
                formControlName="empMobile"
              />
              <label for="empMobile">Mobile No</label>
            </div>
            <div class="form-floating mb-3">
              <input
                type="text"
                class="form-control"
                id="empEMobile"
                placeholder="Emergency No"
                formControlName="empEMobile"
              />
              <label for="empEMobile">Emergency No</label>
            </div>
            <div class="form-floating mb-3">
              <input
                type="text"
                class="form-control"
                id="empBG"
                placeholder="Blood Group"
                formControlName="empBG"
              />
              <label for="empBG">Blood Group</label>
            </div>
          </section>
        </div>
        <div class="col-sm-4 mb-4">
          <button type="button" (click)="addCard()">Add Card</button>
        </div>
      </div>
      <button type="submit" class="btn btn-primary">Submit</button>
    </form>
  </div>
</div>
